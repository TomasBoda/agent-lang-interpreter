"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs_1 = require("fs");
var lexer_1 = require("./lexer/lexer");
var parser_1 = require("./parser/parser");
var interpreter_1 = require("./runtime/interpreter");
var environment_1 = require("./runtime/environment");
console.log("Welcome to the AgentLang interpreter");
console.log("------------------------------------");
var filename = "code.txt";
var sourceCode = (0, fs_1.readFileSync)(filename, "utf-8");
var lexer = new lexer_1.Lexer(sourceCode);
var tokens = lexer.tokenize();
console.log("Tokens");
console.log("------------------------------------");
console.log(tokens);
var parser = new parser_1.Parser(tokens);
var ast = parser.parse();
(0, fs_1.writeFileSync)("ast.json", JSON.stringify(ast), "utf-8");
console.log("Abstract Syntax Tree");
console.log("------------------------------------");
console.log(ast);
var env = new environment_1.Environment();
env.declareVariable("NULL", { type: "null", value: null });
env.declareVariable("TRUE", { type: "boolean", value: true });
env.declareVariable("FALSE", { type: "boolean", value: false });
var interpreter = new interpreter_1.Interpreter(ast);
var result = interpreter.interpret(env);
console.log("Result");
console.log("------------------------------------");
console.log(result);
