{"type":"Program","body":[{"type":"ObjectDeclaration","identifier":"person","count":30,"body":[{"type":"VariableDeclaration","variableType":"Const","identifier":"speed","value":{"type":"NumericLiteral","value":4}},{"type":"VariableDeclaration","variableType":"Property","identifier":"angle","value":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"angle"},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"choice"},"args":[{"type":"UnaryExpression","operator":"-","value":{"type":"NumericLiteral","value":0.1}},{"type":"NumericLiteral","value":0.1}]},"operator":"+"},"default":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"random"},"args":[{"type":"NumericLiteral","value":0},{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":2},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"pi"},"args":[]},"operator":"*"}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"shouldStay","value":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"prob"},"args":[{"type":"NumericLiteral","value":0.5}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"xNew","value":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"x"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"speed"},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"cos"},"args":[{"type":"Identifier","identifier":"angle"}]},"operator":"*"},"operator":"+"},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"width"},"args":[]},"operator":"%"},"default":{"type":"NumericLiteral","value":0}},{"type":"VariableDeclaration","variableType":"Property","identifier":"yNew","value":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"y"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"speed"},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"sin"},"args":[{"type":"Identifier","identifier":"angle"}]},"operator":"*"},"operator":"+"},"right":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"height"},"args":[]},"operator":"%"},"default":{"type":"NumericLiteral","value":0}},{"type":"VariableDeclaration","variableType":"Property","identifier":"x","value":{"type":"ConditionalExpression","condition":{"type":"Identifier","identifier":"shouldStay"},"consequent":{"type":"Identifier","identifier":"x"},"alternate":{"type":"Identifier","identifier":"xNew"}},"default":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"random"},"args":[{"type":"NumericLiteral","value":50},{"type":"BinaryExpression","left":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"width"},"args":[]},"right":{"type":"NumericLiteral","value":50},"operator":"-"}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"y","value":{"type":"ConditionalExpression","condition":{"type":"Identifier","identifier":"shouldStay"},"consequent":{"type":"Identifier","identifier":"y"},"alternate":{"type":"Identifier","identifier":"yNew"}},"default":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"random"},"args":[{"type":"NumericLiteral","value":50},{"type":"BinaryExpression","left":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"height"},"args":[]},"right":{"type":"NumericLiteral","value":50},"operator":"-"}]}},{"type":"VariableDeclaration","variableType":"Const","identifier":"distance","value":{"type":"NumericLiteral","value":20}},{"type":"VariableDeclaration","variableType":"Property","identifier":"people","value":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"agents"},"args":[{"type":"Identifier","identifier":"person"}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"closePeople","value":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"filter"},"args":[{"type":"LambdaExpression","base":{"type":"Identifier","identifier":"people"},"param":"p","value":{"type":"BinaryExpression","left":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"sqrt"},"args":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","caller":{"type":"Identifier","identifier":"p"},"value":{"type":"Identifier","identifier":"x"}},"right":{"type":"Identifier","identifier":"x"},"operator":"-"},"right":{"type":"BinaryExpression","left":{"type":"MemberExpression","caller":{"type":"Identifier","identifier":"p"},"value":{"type":"Identifier","identifier":"x"}},"right":{"type":"Identifier","identifier":"x"},"operator":"-"},"operator":"*"},"right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","caller":{"type":"Identifier","identifier":"p"},"value":{"type":"Identifier","identifier":"y"}},"right":{"type":"Identifier","identifier":"y"},"operator":"-"},"right":{"type":"BinaryExpression","left":{"type":"MemberExpression","caller":{"type":"Identifier","identifier":"p"},"value":{"type":"Identifier","identifier":"y"}},"right":{"type":"Identifier","identifier":"y"},"operator":"-"},"operator":"*"},"operator":"+"}]},"right":{"type":"Identifier","identifier":"distance"},"operator":"<="}}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"closeInfected","value":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"filter"},"args":[{"type":"LambdaExpression","base":{"type":"Identifier","identifier":"closePeople"},"param":"c","value":{"type":"BinaryExpression","left":{"type":"MemberExpression","caller":{"type":"Identifier","identifier":"c"},"value":{"type":"Identifier","identifier":"infected"}},"right":{"type":"BooleanLiteral","value":true},"operator":"=="}}]}},{"type":"VariableDeclaration","variableType":"Const","identifier":"timespan","value":{"type":"NumericLiteral","value":200}},{"type":"VariableDeclaration","variableType":"Property","identifier":"remaining","value":{"type":"ConditionalExpression","condition":{"type":"Identifier","identifier":"infected"},"consequent":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"remaining"},"right":{"type":"NumericLiteral","value":1},"operator":"-"},"alternate":{"type":"Identifier","identifier":"timespan"}},"default":{"type":"Identifier","identifier":"timespan"}},{"type":"VariableDeclaration","variableType":"Property","identifier":"shouldInfect","value":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"prob"},"args":[{"type":"NumericLiteral","value":0.4}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"infected","value":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","identifier":"infected"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","identifier":"remaining"},"right":{"type":"NumericLiteral","value":0},"operator":">"},"operator":"and"},"right":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"count"},"args":[{"type":"Identifier","identifier":"closeInfected"}]},"right":{"type":"NumericLiteral","value":0},"operator":">"},"right":{"type":"Identifier","identifier":"shouldInfect"},"operator":"and"},"operator":"or"},"default":{"type":"CallExpression","caller":{"type":"Identifier","identifier":"prob"},"args":[{"type":"NumericLiteral","value":0.5}]}},{"type":"VariableDeclaration","variableType":"Property","identifier":"coloured","value":{"type":"Identifier","identifier":"infected"},"default":{"type":"BooleanLiteral","value":false}}]}]}